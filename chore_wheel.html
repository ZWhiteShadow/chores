<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Chore Rotation Wheel</title>
    <style>
        body {
            margin: 0;
            padding: 20px;
            font-family: 'Arial', sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
        }

        h1 {
            color: white;
            text-align: center;
            margin-bottom: 30px;
            font-size: 2.5em;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
        }

        .info {
            background: white;
            padding: 20px;
            border-radius: 15px;
            margin-top: 20px;
            box-shadow: 0 4px 15px rgba(0,0,0,0.2);
            max-width: 500px;
            text-align: center;
        }

        .info h2 {
            margin-top: 0;
            color: #667eea;
        }

        .chore-list {
            text-align: left;
            margin: 10px 0;
            padding: 10px;
            background: #f5f5f5;
            border-radius: 8px;
        }

        .person-name {
            font-weight: bold;
            color: #764ba2;
            font-size: 1.1em;
        }
    </style>
</head>
<body>
    <h1>üè† Daily Chore Rotation üè†</h1>

    <div class="info">
        <h2 id="dateHeader">Today's Chores</h2>
        <div id="assignments"></div>
        
        <h3 id="weeklyHeader" style="margin-top: 25px; color: #667eea;">Weekly Chore</h3>
        <div id="weeklyAssignment"></div>
        
        <p style="margin-top: 15px; color: #666; font-size: 14px;">
            Chores automatically rotate daily based on the date.
        </p>
    </div>

    <script>
        // Reference starting date (February 27, 2026)
        const referenceDate = new Date('2026-02-27');
        
        const people = ["Fabi", "Mahonri", "Wade"];
        
        const taskSets = [
            ["Wash Dishes", "Clean Counter", "Take out Garbage"],
            ["Clean Stove", "Clean Kitchen", "Clean Microwave"],
            ["Sweep/Mop House", "Clean Living Room"]
        ];

        function getDaysBetween(date1, date2) {
            const oneDay = 24 * 60 * 60 * 1000;
            return Math.floor((date2 - date1) / oneDay);
        }

        function getTodayDayOfWeek() {
            const today = new Date();
            const days = ['Sunday', 'Monday', 'Tuesday', 'Wednesday', 'Thursday', 'Friday', 'Saturday'];
            return days[today.getDay()];
        }

        function getNextFriday() {
            const today = new Date();
            const dayOfWeek = today.getDay();
            const daysUntilFriday = (5 - dayOfWeek + 7) % 7;
            const friday = new Date(today);
            friday.setDate(today.getDate() + (daysUntilFriday === 0 ? 7 : daysUntilFriday));
            return friday;
        }

        function getOrdinalSuffix(day) {
            if (day > 3 && day < 21) return 'th';
            switch (day % 10) {
                case 1: return 'st';
                case 2: return 'nd';
                case 3: return 'rd';
                default: return 'th';
            }
        }

        function getFormattedFriday() {
            const friday = getNextFriday();
            const day = friday.getDate();
            return `Friday the ${day}${getOrdinalSuffix(day)}`;
        }

        function updateAssignments() {
            const today = new Date();
            const daysSinceReference = getDaysBetween(referenceDate, today);
            // Add 2 to rotate forward so Mahonri has dishes today (Fabi had them yesterday)
            const rotations = (daysSinceReference + 2) % 3;
            
            // Update the date header
            document.getElementById('dateHeader').textContent = `${getTodayDayOfWeek()}'s Chores:`;
            
            // Update weekly header with Friday deadline
            document.getElementById('weeklyHeader').textContent = `Weekly done by ${getFormattedFriday()}:`;
            
            // Update the daily assignments display
            const assignmentsDiv = document.getElementById('assignments');
            assignmentsDiv.innerHTML = people.map((person, index) => {
                const taskSetIndex = (index + rotations) % 3;
                const tasks = taskSets[taskSetIndex];
                return `
                    <div class="chore-list">
                        <span class="person-name">${person}:</span>
                        <ul style="margin: 5px 0; padding-left: 20px;">
                            ${tasks.map(task => `<li>${task}</li>`).join('')}
                        </ul>
                    </div>
                `;
            }).join('');
            
            // Update weekly bathroom assignment
            const weeksSinceReference = Math.floor(daysSinceReference / 7);
            // Start with Mahonri (index 1), so add 1 to the week count
            const bathroomPersonIndex = (weeksSinceReference + 1) % 3;
            const bathroomPerson = people[bathroomPersonIndex];
            
            const weeklyAssignmentDiv = document.getElementById('weeklyAssignment');
            weeklyAssignmentDiv.innerHTML = `
                <div class="chore-list">
                    <span class="person-name">${bathroomPerson}:</span>
                    <ul style="margin: 5px 0; padding-left: 20px;">
                        <li>Clean Bathroom</li>
                    </ul>
                </div>
            `;
        }

        // Initialize assignments on page load
        updateAssignments();
    </script>
</body>
</html>
